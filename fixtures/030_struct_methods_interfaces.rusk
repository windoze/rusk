// expect: ok int 48

struct Point { x: int, y: int }

impl Point {
    fn sum() -> int { self.x + self.y }
}

interface Add {
    fn add(n: int) -> int;
}

impl Add for Point {
    fn add(n: int) -> int { self.sum() + n }
}

fn main() -> int {
    let p = Point { x: 1, y: 2 };
    p.x = 10;
    let s = p.sum();
    let i = p as Add;
    s + Add::add(i, 5) + i.add(7)
}
