// expect: ok int 7

interface Show { fn show() -> string; }

interface Pair<T> {
    fn pair<U: Show>(u: U) -> (T, U);
}

struct Box<T> { v: T }
struct S { x: int }

impl Show for S { fn show(self: S) -> string { "S" } }

impl<T> Pair<T> for Box<T> {
    fn pair<U: Show>(self: Box<T>, u: U) -> (T, U) { (self.v, u) }
}

fn main() -> int {
    let b: Box<int> = Box { v: 7 };
    let p = (b as Pair<int>).pair(S { x: 0 });
    p.0
}
